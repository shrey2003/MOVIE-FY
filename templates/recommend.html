<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>MOVIE-FY</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <style>
    /* Loader CSS */
    #loader {
      border: 16px solid #f3f3f3; /* Light grey */
      border-top: 16px solid #3498db; /* Blue */
      border-radius: 50%;
      width: 120px;
      height: 120px;
      animation: spin 2s linear infinite;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      z-index: 9999;
    }

    @keyframes spin {
      0% {
        transform: rotate(0deg);
      }

      100% {
        transform: rotate(360deg);
      }
    }

    /* Ensure the loader is centered and the background is semi-transparent */
    #loader-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      justify-content: center;
      align-items: center;
      z-index: 9998;
    }

    /* Modal */
    .modal {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      z-index: 10000;
    }

    .bg-blur-lg {
      background-size: cover;
      background-repeat: no-repeat;
      filter: blur(4px);
    }
  </style>
</head>

<body>
  <header class="text-gray-600 body-font h-16 bg-gradient-to-r from-purple-500 to-pink-500 z-50 relative w-full">
    <div class="container mb-12 mx-auto flex flex-wrap p-5 flex-col md:flex-row items-center bg-[url('/static/background-3.jpg')]">
      <a class="flex title-font font-medium items-center text-gray-900 mb-12 md:mb-0 py-9">
        <img src="/static/logo.png" alt="" class="">
      </a>
      <nav class="md:ml-auto text-base justify-center">
        <a href="https://github.com/shrey2003">
          <button type="button" class="mb-2 inline-block rounded-full p-3 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg hover:scale-105 focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg" style="background-color: #333">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="currentColor" viewBox="0 0 24 24">
              <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z" />
            </svg>
          </button>
        </a>
        <a href="https://www.linkedin.com/in/shreya-mishra03/">
          <button type="button" class="mb-2 mx-6 inline-block rounded-full p-3 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg hover:scale-105 focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg" style="background-color: #0077b5">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="currentColor" viewBox="0 0 24 24">
              <path d="M4.98 3.5c0 1.381-1.11 2.5-2.48 2.5s-2.48-1.119-2.48-2.5c0-1.38 1.11-2.5 2.48-2.5s2.48 1.12 2.48 2.5zm.02 4.5h-5v16h5v-16zm7.982 0h-4.968v16h4.969v-8.399c0-4.67 6.029-5.052 6.029 0v8.399h4.988v-10.131c0-7.88-8.922-7.593-11.018-3.714v-2.155z" />
            </svg>
          </button>
        </a>
        <a href="https://discord.com">
          <button type="button" class="mb-2 inline-block rounded-full p-3 text-xs font-medium uppercase leading-normal text-white shadow-md transition duration-150 ease-in-out hover:shadow-lg hover:scale-105 focus:shadow-lg focus:outline-none focus:ring-0 active:shadow-lg" style="background-color: #7289da">
            <svg class="h-4 w-4" fill="currentColor" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" viewbox="0 0 24 24">
              <path d="M19.54 0c1.356 0 2.46 1.104 2.46 2.472v21.528l-2.58-2.28-1.452-1.344-1.536-1.428.636 2.22h-13.608c-1.356 0-2.46-1.104-2.46-2.472v-16.224c0-1.368 1.104-2.472 2.46-2.472h16.08zm-4.632 15.672c2.652-.084 3.672-1.824 3.672-1.824 0-3.864-1.728-6.996-1.728-6.996-1.728-1.296-3.372-1.26-3.372-1.26l-.168.192c2.04.624 2.988 1.524 2.988 1.524-1.248-.684-2.472-1.02-3.612-1.152-.864-.096-1.692-.072-2.424.024l-.204.024c-.42.036-1.44.192-2.724.756-.444.204-.708.348-.708.348s.996-.948 3.156-1.572l-.12-.144s-1.644-.036-3.372 1.26c0 0-1.728 3.132-1.728 6.996 0 0 1.008 1.74 3.66 1.824 0 0 .444-.54.804-.996-1.524-.456-2.1-1.416-2.1-1.416l.336.204.048.036.047.027.014.006.047.027c.3.168.6.3.876.408.492.192 1.08.384 1.764.516.9.168 1.956.228 3.108.012.564-.096 1.14-.264 1.74-.516.42-.156.888-.384 1.38-.708 0 0-.6.984-2.172 1.428.36.456.792.972.792.972zm-5.58-5.604c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332.012-.732-.54-1.332-1.224-1.332zm4.38 0c-.684 0-1.224.6-1.224 1.332 0 .732.552 1.332 1.224 1.332.684 0 1.224-.6 1.224-1.332 0-.732-.54-1.332-1.224-1.332z" />
            </svg>
          </button>
        </a>
      </nav>
    </div>
  </header>

  <section class="text-gray-600 body-font bg-[url('/static/background.jpg')] mt-16 py-36" id="movie">
    <div class="container mx-auto flex flex-col px-5 py-24 justify-center items-center" data-aos="fade-up">
      <div class="w-full md:w-2/3 flex flex-col mb-16 items-center text-center">
        <h1 class="title-font sm:text-4xl text-3xl mb-4 mt-16 font-black text-green-400 bg-black p-2 rounded">GRAB YOUR POPCORN NOW!!</h1>
        <p class="mb-8 leading-relaxed text-slate-300 bg-black p-2 rounded">Looking for something to watch? Use our search feature to browse thousands of titles and find the perfect movie for your mood</p>
      </div>
      <div class="flex w-full justify-center items-end">
        <div class="relative mr-4 lg:w-full xl:w-1/2 w-2/4 md:w-full text-left">
          <form action="/recommendation" method="POST" onsubmit="return handleFormSubmit()">
            <select class="form-select border-2 border-green-500 focus:border-green-700 rounded-lg" id="movies" name="movies" aria-label="Default select example">
                {% for j in movie_list %}
                <option value="{{ j }}" {% if selected_movie == j %}selected{% endif %}>{{ j }}</option>
                {% endfor %}
            </select><br>
            <button class="inline-flex text-white bg-red-500 border-0 py-2 px-6 focus:outline-none hover:bg-blue-600 hover:scale-105 transition-transform rounded-lg text-lg mt-4" type="submit">Let's Go</button>
          </form>
        </div>
      </div>
    </div>
    {% if status == True %}
    <div class="container px-5 py-24 mx-auto" data-aos="fade-in">
      <div class="flex flex-wrap w-full mb-20">
        <div class="mb-6 lg:mb-0">
          <h1 class="sm:text-3xl text-2xl font-medium title-font mb-2 text-orange-400">RECOMMENDED MOVIES</h1>
          <div class="h-1 w-20 bg-indigo-500 rounded"></div>
        </div>
      </div>

      <div class="flex flex-wrap -m-4">
        {% for i in range(4) %}
        <div class="xl:w-1/4 md:w-1/2 p-4">
          <div class="bg-gray-100 p-6 rounded-lg shadow-lg" onclick="openModal('{{ movieid[i] }}')">
            <img class="h-200 rounded w-full object-cover object-center mb-6" src="{{ poster[i] }}" alt="content">
            <h3 class="tracking-widest text-indigo-500 text-xs font-medium title-font">Movie Name</h3>
            <h2 class="text-lg text-gray-900 font-medium title-font mb-4">{{ movie_name[i] }}</h2>
            <button onclick="openMovieDetailsPage('{{ movieid[i] }}')" class="bg-transparent hover:bg-blue-500 text-blue-700 font-semibold hover:text-white py-2 px-6 border border-blue-500 hover:border-transparent rounded-lg">
              Read More
            </button>
          </div>
        </div>
        {% endfor %}
      </div>
    </div>
    <div class="container mx-auto text-center mt-8">
      <a href="/" class="inline-flex text-white bg-blue-500 border-0 py-2 px-6 focus:outline-none hover:bg-blue-600 rounded text-lg">Back to Homepage</a>
  </div>
    {% endif %}
  </section>

  <!-- Loader -->
  <div id="loader-container" class="hidden">
    <div id="loader"></div>
  </div>

  <footer class="text-gray-600 body-font bg-gray-900">
    <div class="container px-5 py-4 mx-auto flex items-center sm:flex-row flex-col">
      <a class="flex title-font font-medium items-center md:justify-start justify-center text-gray-900">
        <img src="/static/logo.png" alt="" class="">
      </a>
      <p class="text-sm text-slate-300 sm:ml-4 sm:pl-4 sm:border-l-2 sm:border-gray-200 sm:py-2 sm:mt-0 mt-4">© 2023 MOVIE-FY —
        <a href="https://github.com/shrey2003" class="text-blue-700 ml-1" rel="noopener noreferrer" target="_blank">@shrey2003</a>
      </p>
      <span class="inline-flex sm:ml-auto sm:mt-0 mt-4 justify-center sm:justify-start">
        <a class="text-slate-300">
          <svg fill="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="w-5 h-5" viewBox="0 0 24 24">
            <path d="M18 2h-3a5 5 0 00-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 011-1h3z"></path>
          </svg>
        </a>
        <a class="ml-3 text-slate-300">
          <svg fill="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="w-5 h-5" viewBox="0 0 24 24">
            <path d="M23 3a10.9 10.9 0 01-3.14 1.53 4.48 4.48 0 00-7.86 3v1A10.66 10.66 0 013 4s-4 9 5 13a11.64 11.64 0 01-7 2c9 5 20 0 20-11.5a4.5 4.5 0 00-.08-.83A7.72 7.72 0 0023 3z"></path>
          </svg>
        </a>
        <a class="ml-3 text-gray-500">
          <svg fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="w-5 h-5" viewBox="0 0 24 24">
            <rect width="20" height="20" x="2" y="2" rx="5" ry="5"></rect>
            <path d="M16 11.37A4 4 0 1112.63 8 4 4 0 0116 11.37zm1.5-4.87h.01"></path>
          </svg>
        </a>
        <a class="ml-3 text-gray-500">
          <svg fill="currentColor" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="0" class="w-5 h-5" viewBox="0 0 24 24">
            <path stroke="none" d="M16 8a6 6 0 016 6v7h-4v-7a2 2 0 00-2-2 2 2 0 00-2 2v7h-4v-7a6 6 0 016-6zM2 9h4v12H2z"></path>
            <circle cx="4" cy="4" r="2" stroke="none"></circle>
          </svg>
        </a>
      </span>
    </div>
  </footer>

  <script>
    document.addEventListener("DOMContentLoaded", function() {
      // Hide the loader when the page has fully loaded
      document.getElementById('loader-container').classList.add('hidden');
    });

    function openMovieDetailsPage(movieid) {
      document.getElementById('loader-container').classList.remove('hidden'); // Show the loader

      // Add a short delay to allow the loader to appear before redirecting
      setTimeout(function() {
        window.location.href = '/movie_page/' + movieid;
      }, 100); // 100 milliseconds delay
    }

    function handleFormSubmit() {
      const selectedMovie = document.getElementById('movies').value;
      if (selectedMovie === '') {
        return false;
      }
      document.getElementById('loader-container').classList.remove('hidden'); // Show the loader

      // Allow form submission to proceed normally
      return true;
    }

    // Initialize AOS
    AOS.init();
  </script>
</body>

</html>
